<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brown Ford University - Enrollment</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link
        href="https://fonts.googleapis.com/css2?family=Alice&family=Cinzel&family=Cinzel+Decorative&family=Cormorant+Garamond&display=swap"
        rel="stylesheet" />
</head>

<body>
    <div class="background-container">
        <div class="background-image"></div>

        <!-- Header -->
        <header class="header">
            <div class="logo-container">
                <div class="logo">
                    <div class="logo-inner">
                        <img th:src="@{/images/logo.png}" alt="Brown Ford University Logo" class="university-logo">
                    </div>
                </div>
                <h1 class="university-name">Brown Ford University</h1>
            </div>
            <div class="header-icons">
                <!-- Notification Icon -->
                <div class="notification-icon">
                    <a href="#" class="notification-link" id="notificationToggle">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                            stroke="#8B4513" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                        </svg>
                    </a>
                    <!-- Notification Dropdown -->
                    <div class="notification-dropdown" id="notificationDropdown">
                        <div class="notification-header">
                            <h3>Notifications</h3>
                            <a href="#" class="mark-all-read">Mark all as read</a>
                        </div>
                        <div class="notification-list">
                            <p>No notifications available.</p>
                        </div>
                        <div class="notification-footer">
                            <a href="#" class="view-all">View All Notifications</a>
                        </div>
                    </div>
                </div>

                <!-- Profile Icon -->
                <div class="profile-icon">
                    <a th:href="@{/student-profile}" class="profile-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                            stroke="#8B4513" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </a>
                </div>

                <!-- Interactive Logout Icon as an anchor tag -->
                <div class="logout-icon">
                    <a th:href="@{/logout}" class="logout-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                            stroke="#8B4513" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
                        </svg>
                    </a>
                </div>
            </div>
        </header>

        <!-- Main Navigation -->
        <nav class="main-nav">
            <ul>
                <li><a th:href="@{/student-home}">Home</a></li>
                <li><a th:href="@{/student-schedule}">Schedule</a></li>
                <li><a th:href="@{/student-grades}">Grades</a></li>
                <li><a th:href="@{/student-enrollment}" class="active">Enrollment</a></li>
                <li><a th:href="@{/student-faculty-evaluation}">Faculty Evaluation</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="enrollment-content">
            <div class="enrollment-header">
                <div class="enrollment-icon-container">
                    <div class="enrollment-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none"
                            stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5" />
                        </svg>
                    </div>
                    <div>
                        <h2 class="enrollment-title">ENROLLMENT PORTAL</h2>
                        <p class="semester-info">1ST SEMESTER / ACADEMIC YEAR 2024-2025</p>
                    </div>
                </div>
                <div class="student-info">
                    <h3 class="student-name" th:text="${student.fullName}">Student Name</h3>
                    <p class="student-id" th:text="'Student ID: ' + ${student.studentId}">Student ID</p>
                </div>
            </div>

            <div class="enrollment-status">
                <div class="status-box">
                    <h3>Enrollment Status: <span
                            th:class="${enrollmentStatus != null and enrollmentStatus.isOpen} ? 'status-open' : ''"
                            th:text="${enrollmentStatus != null ? enrollmentStatus.status : 'Unknown'}">Status</span>
                    </h3>
                    <p th:text="'Enrollment Period: ' + ${enrollmentStatus.period}">Enrollment Period</p>
                    <p th:if="${enrollmentStatus.windowDate != null}">Your enrollment window opens on: <strong
                            th:text="${enrollmentStatus.windowDate}">Window Date</strong></p>
                </div>
            </div>

            <!-- Enrollment Steps -->
            <div class="enrollment-steps">
                <h3 class="steps-title">Enrollment Steps</h3>
                <div class="steps-container">
                    <div th:each="step : ${enrollmentSteps}" class="step">
                        <div class="step-number" th:text="${step.stepNumber}">1</div>
                        <div class="step-content">
                            <h4 th:text="${step.title}">Step Title</h4>
                            <p th:text="${step.description}">Step description</p>
                            <span
                                th:class="${step.status == 'Completed' ? 'step-status completed' : 'step-status pending'}"
                                th:text="${step.status}">Status</span>
                            <a th:if="${step.actionUrl != null}" th:href="${step.actionUrl}" class="action-button"
                                th:text="${step.actionText}">Action</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Available Courses -->
            <div class="available-courses">
                <h3 class="courses-title"
                    th:text="'Available Courses for ' + ${student.yearLevel} + ' / ' + ${semester}">Available Courses
                </h3>
                <div class="courses-table-container">
                    <table class="courses-table">
                        <thead>
                            <tr>
                                <th>Course Code</th>
                                <th>Course Title</th>
                                <th>Units</th>
                                <th>Schedule</th>
                                <th>Instructor</th>
                                <th>Slots</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:if="${availableCourses.empty}">
                                <td colspan="7" style="text-align: center;">No courses available for enrollment</td>
                            </tr>
                            <tr th:each="course : ${availableCourses}">
                                <td th:text="${course.code}">Course Code</td>
                                <td th:text="${course.title}">Course Title</td>
                                <td th:text="${course.units}">Units</td>
                                <td th:text="${course.schedule}">Schedule</td>
                                <td th:text="${course.instructor}">Instructor</td>
                                <td th:text="${course.slots}">Slots</td>
                                <td>
                                    <a th:href="@{/enroll-course(courseId=${course.id})}"
                                        class="enroll-button">Enroll</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
    <script th:src="@{/js/notifications.js}"></script>
</body>

</html>