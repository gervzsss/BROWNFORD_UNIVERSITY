<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brown Ford University - Enrollment & Grade Management</title>
    <!-- Link to the external CSS files -->
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" th:href="@{/css/common.css}" />
    <link
        href="https://fonts.googleapis.com/css2?family=Alice&family=Cinzel&family=Cinzel+Decorative&family=Cormorant+Garamond&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" th:href="@{/css/sidebar-nav.css}">
    <style>
        /* Additional styles specific to enrollment and grades page */
        .tab-navigation {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
            z-index: 2;
        }

        .tab-navigation ul {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .tab-navigation li {
            margin: 0;
        }

        .tab-navigation a {
            display: block;
            padding: 12px 24px;
            text-decoration: none;
            color: #6B3A1D;
            font-family: 'Cinzel', serif;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            font-size: 14px;
        }

        .tab-navigation a:hover {
            background-color: rgba(107, 58, 29, 0.1);
        }

        .tab-navigation a.active {
            color: #B25000;
            border-bottom: 3px solid #B25000;
            background-color: rgba(178, 80, 0, 0.05);
        }

        .tab-content {
            display: none;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .tab-content.active {
            display: block;
        }

        .enrollment-table,
        .grades-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .enrollment-table th,
        .grades-table th {
            background-color: rgba(107, 58, 29, 0.1);
            color: #6B3A1D;
            font-family: 'Cinzel', serif;
            text-align: left;
            padding: 12px 15px;
            font-weight: 600;
            border-bottom: 2px solid #B25000;
        }

        .enrollment-table td,
        .grades-table td {
            padding: 10px 15px;
            border-bottom: 1px solid #e0e0e0;
            color: #333;
            font-family: 'Alice', serif;
        }

        .enrollment-table tr:hover,
        .grades-table tr:hover {
            background-color: rgba(178, 80, 0, 0.05);
        }

        .search-filter-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .search-box {
            display: flex;
            align-items: center;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 5px 10px;
            flex: 1;
            max-width: 300px;
        }

        .search-box input {
            border: none;
            outline: none;
            padding: 5px;
            width: 100%;
            font-family: 'Alice', serif;
        }

        .search-box svg {
            margin-right: 5px;
            color: #6B3A1D;
        }

        .filter-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
            font-family: 'Alice', serif;
            color: #333;
            outline: none;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
        }

        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Alice', serif;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background-color: #B25000;
            color: white;
        }

        .btn-secondary {
            background-color: #6B3A1D;
            color: white;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #6B3A1D;
            color: #6B3A1D;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .btn-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            border-radius: 4px;
            background-color: transparent;
            border: none;
            cursor: pointer;
            color: #6B3A1D;
            transition: all 0.2s ease;
        }

        .btn-icon:hover {
            background-color: rgba(107, 58, 29, 0.1);
        }

        .btn-icon svg {
            width: 16px;
            height: 16px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .modal-header {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            margin: 0;
            color: #6B3A1D;
            font-family: 'Cinzel', serif;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #6B3A1D;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-family: 'Alice', serif;
            color: #333;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Alice', serif;
            color: #333;
        }

        .form-control:focus {
            outline: none;
            border-color: #B25000;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-col {
            flex: 1;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-success {
            background-color: rgba(40, 167, 69, 0.2);
            color: #28a745;
        }

        .badge-warning {
            background-color: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }

        .badge-danger {
            background-color: rgba(220, 53, 69, 0.2);
            color: #dc3545;
        }

        .badge-info {
            background-color: rgba(23, 162, 184, 0.2);
            color: #17a2b8;
        }

        .badge-primary {
            background-color: rgba(178, 80, 0, 0.2);
            color: #B25000;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }

        .empty-state svg {
            margin-bottom: 1rem;
            opacity: 0.6;
        }

        .empty-state p {
            color: #666;
            font-size: 0.95rem;
        }

        .empty-state-message {
            text-align: center;
        }

        .empty-pagination-message {
            text-align: center;
            color: #888;
            font-size: 0.9rem;
            padding: 0.5rem;
            font-style: italic;
        }

        .enrollment-period-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .enrollment-period-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .enrollment-period-title {
            font-family: 'Cinzel', serif;
            color: #6B3A1D;
            margin: 0;
        }

        .enrollment-period-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .enrollment-period-details {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .enrollment-period-detail {
            background-color: rgba(107, 58, 29, 0.05);
            padding: 10px;
            border-radius: 4px;
        }

        .enrollment-period-detail h4 {
            margin: 0 0 5px 0;
            font-family: 'Cinzel', serif;
            color: #6B3A1D;
            font-size: 14px;
        }

        .enrollment-period-detail p {
            margin: 0;
            font-family: 'Alice', serif;
            color: #333;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.toggle-slider {
            background-color: #28a745;
        }

        input:checked+.toggle-slider:before {
            transform: translateX(26px);
        }

        .grade-input {
            width: 60px;
            text-align: center;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 5px;
        }

        .pagination-item {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 4px;
            background-color: white;
            border: 1px solid #ddd;
            color: #6B3A1D;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .pagination-item.active {
            background-color: #B25000;
            color: white;
            border-color: #B25000;
        }

        .pagination-item:hover:not(.active) {
            background-color: rgba(107, 58, 29, 0.1);
        }

        .student-info-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .student-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: rgba(107, 58, 29, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6B3A1D;
            font-family: 'Cinzel', serif;
            font-size: 24px;
            font-weight: bold;
        }

        .student-details {
            flex: 1;
        }

        .student-name {
            margin: 0 0 5px 0;
            font-family: 'Cinzel', serif;
            color: #6B3A1D;
        }

        .student-id {
            margin: 0 0 5px 0;
            font-family: 'Alice', serif;
            color: #666;
        }

        .student-program {
            margin: 0;
            font-family: 'Alice', serif;
            color: #333;
        }

        .student-actions {
            display: flex;
            gap: 10px;
        }

        .tab-header {
            margin-top: 0;
            margin-bottom: 20px;
            color: #6B3A1D;
            font-family: 'Cinzel', serif;
            font-weight: 600;
            text-align: center;
        }

        .info-text {
            color: #666;
            font-family: 'Alice', serif;
            font-style: italic;
            text-align: center;
            margin-bottom: 20px;
        }

        .grade-legend {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .grade-legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: 'Alice', serif;
            font-size: 14px;
            color: #666;
        }

        .grade-legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        .grade-a {
            background-color: #28a745;
        }

        .grade-b {
            background-color: #17a2b8;
        }

        .grade-c {
            background-color: #ffc107;
        }

        .grade-d {
            background-color: #fd7e14;
        }

        .grade-f {
            background-color: #dc3545;
        }

        .grade-inc {
            background-color: #6c757d;
        }

        .action-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .action-bar-left,
        .action-bar-right {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .section-divider {
            margin: 30px 0;
            border: 0;
            height: 1px;
            background-image: linear-gradient(to right, rgba(107, 58, 29, 0), rgba(107, 58, 29, 0.2), rgba(107, 58, 29, 0));
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 10px;
            }

            .search-filter-container {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                max-width: none;
            }

            .enrollment-period-details {
                grid-template-columns: 1fr;
            }

            .student-info-card {
                flex-direction: column;
                text-align: center;
            }

            .student-actions {
                justify-content: center;
                margin-top: 10px;
            }

            .action-bar {
                flex-direction: column;
                gap: 10px;
            }

            .action-bar-left,
            .action-bar-right {
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <div class="background-container">
        <div class="background-image"></div>

        <!-- Header -->
        <header class="header">
            <button class="sidebar-toggle" id="sidebarToggle">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="#8B4513" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <div class="logo-container">
                <div class="logo">
                    <div class="logo-inner">
                        <img th:src="@{/images/logo.png}" alt="Brown Ford University Logo" class="university-logo">
                    </div>
                </div>
                <h1 class="university-name">Brown Ford University</h1>
            </div>
            <div class="header-icons">
                <!-- Notification Icon -->
                <div class="notification-icon">
                    <a href="#" class="notification-link" id="notificationToggle">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                            stroke="#8B4513" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                        </svg>
                    </a>
                    <!-- Notification Dropdown -->
                    <div class="notification-dropdown" id="notificationDropdown">
                        <div class="notification-header">
                            <h3>Notifications</h3>
                            <a href="#" class="mark-all-read">Mark all as read</a>
                        </div>
                        <div class="notification-list">
                            <p>No notifications available.</p>
                        </div>
                        <div class="notification-footer">
                            <a href="#" class="view-all">View All Notifications</a>
                        </div>
                    </div>
                </div>

                <!-- Interactive Logout Icon as an anchor tag -->
                <div class="logout-icon">
                    <a th:href="@{/logout}" class="logout-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
                            stroke="#8B4513" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
                        </svg>
                    </a>
                </div>
            </div>
        </header>

        <!-- Sidebar Navigation -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <img th:src="@{/images/logo.png}" alt="Brown Ford University Logo">
                    <span class="sidebar-title">Admin Portal</span>
                </div>
                <button class="sidebar-close" id="sidebarClose">&times;</button>
            </div>
            <div class="sidebar-content">
                <ul class="sidebar-nav">
                    <li class="sidebar-nav-item">
                        <a th:href="@{/admin-dashboard}" class="sidebar-nav-link">
                            <span class="sidebar-nav-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                </svg>
                            </span>
                            <span class="sidebar-nav-text">Dashboard</span>
                        </a>
                    </li>
                    <div class="sidebar-section-title">Academic Management</div>
                    <li class="sidebar-nav-item">
                        <a th:href="@{/admin-course-section}" class="sidebar-nav-link">
                            <span class="sidebar-nav-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                                </svg>
                            </span>
                            <span class="sidebar-nav-text">Course & Section</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a th:href="@{/admin-subject-management}" class="sidebar-nav-link">
                            <span class="sidebar-nav-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9"></polyline>
                                </svg>
                            </span>
                            <span class="sidebar-nav-text">Subject Management</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a th:href="@{/admin-enrollment-grades}" class="sidebar-nav-link">
                            <span class="sidebar-nav-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                                    <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
                                </svg>
                            </span>
                            <span class="sidebar-nav-text">Enrollment & Grades</span>
                        </a>
                    </li>
                    <div class="sidebar-section-title">User Management</div>
                    <li class="sidebar-nav-item">
                        <a th:href="@{/admin-users}" class="sidebar-nav-link">
                            <span class="sidebar-nav-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                </svg>
                            </span>
                            <span class="sidebar-nav-text">User Management</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item sidebar-dropdown">
                        <button class="sidebar-dropdown-toggle">
                            <span class="sidebar-dropdown-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="8.5" cy="7" r="4"></circle>
                                    <line x1="20" y1="8" x2="20" y2="14"></line>
                                    <line x1="23" y1="11" x2="17" y2="11"></line>
                                </svg>
                            </span>
                            <span class="sidebar-dropdown-text">Faculty</span>
                            <span class="sidebar-dropdown-arrow">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </span>
                        </button>
                        <div class="sidebar-dropdown-menu">
                            <a th:href="@{/admin-faculty-list}" class="sidebar-dropdown-item">Faculty List</a>
                            <a th:href="@{/admin-faculty-workload}" class="sidebar-dropdown-item">Workload
                                Management</a>
                            <a th:href="@{/admin-faculty-evaluation}" class="sidebar-dropdown-item">Evaluations</a>
                        </div>
                    </li>
                    <li class="sidebar-nav-item sidebar-dropdown">
                        <button class="sidebar-dropdown-toggle">
                            <span class="sidebar-dropdown-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                </svg>
                            </span>
                            <span class="sidebar-dropdown-text">Students</span>
                            <span class="sidebar-dropdown-arrow">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </span>
                        </button>
                        <div class="sidebar-dropdown-menu">
                            <a th:href="@{/admin-student-list}" class="sidebar-dropdown-item">Student List</a>
                            <a th:href="@{/admin-student-records}" class="sidebar-dropdown-item">Academic Records</a>
                            <a th:href="@{/admin-student-graduation}" class="sidebar-dropdown-item">Graduation
                                Management</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Add the sidebar overlay div -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- Wrap the main content in content-wrapper -->
        <div class="content-wrapper" id="contentWrapper">
            <!-- Main Content -->
            <main class="dashboard-content">
                <!-- Welcome Section -->
                <section class="welcome-section">
                    <div class="welcome-header">
                        <div class="welcome-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24"
                                fill="none" stroke="#6B3A1D" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                                <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
                            </svg>
                        </div>
                        <div class="welcome-text">
                            <h2>Enrollment & Grade Management</h2>
                            <p>Manage student enrollments, encode grades, and control enrollment periods</p>
                        </div>
                    </div>
                </section>

                <!-- Tab Navigation -->
                <nav class="tab-navigation">
                    <ul>
                        <li><a href="#" class="tab-link active" data-tab="enrollment">Student Enrollment</a></li>
                        <li><a href="#" class="tab-link" data-tab="grades">Grade Encoding</a></li>
                        <li><a href="#" class="tab-link" data-tab="enrollment-period">Enrollment Period</a></li>
                    </ul>
                </nav>

                <!-- Enrollment Tab Content -->
                <div id="enrollment" class="tab-content active">
                    <h3 class="tab-header">Student Enrollment Management</h3>
                    <p class="info-text">Enroll students in subjects or view/manage existing enrollments</p>

                    <div class="action-bar">
                        <div class="action-bar-left">
                            <button class="btn btn-primary" id="enrollStudentBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 5px;">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                Enroll Student
                            </button>
                            <button class="btn btn-outline" id="bulkEnrollBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 5px;">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                </svg>
                                Bulk Enrollment
                            </button>
                        </div>
                        <div class="action-bar-right">
                            <button class="btn btn-outline" id="exportEnrollmentBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 5px;">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                Export Data
                            </button>
                        </div>
                    </div>

                    <div class="search-filter-container">
                        <div class="search-box">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                            <input type="text" placeholder="Search by student name or ID..." id="enrollmentSearchInput">
                        </div>
                        <div class="filter-controls">
                            <select class="filter-select" id="academicYearFilter">
                                <option value="">All Academic Years</option>
                                <!-- Options will be populated from database -->
                            </select>
                            <select class="filter-select" id="semesterFilter">
                                <option value="">All Semesters</option>
                                <!-- Options will be populated from database -->
                            </select>
                            <select class="filter-select" id="programFilter">
                                <option value="">All Programs</option>
                                <!-- Options will be populated from database -->
                            </select>
                        </div>
                    </div>

                    <div class="empty-state" id="enrollmentEmptyState">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                            stroke="#6B3A1D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                            <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
                        </svg>
                        <p>No enrollment records found. Use the "Enroll Student" button to add new enrollments.</p>
                    </div>

                    <table class="enrollment-table" id="enrollmentTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Student Name</th>
                                <th>Program</th>
                                <th>Subject Code</th>
                                <th>Subject Name</th>
                                <th>Section</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Table rows will be populated from database -->
                        </tbody>
                    </table>

                    <div class="pagination" id="enrollmentPagination" style="display: none;">
                        <!-- Pagination will be dynamically generated -->
                    </div>
                </div>

                <!-- Grade Encoding Tab Content -->
                <div id="grades" class="tab-content">
                    <h3 class="tab-header">Grade Encoding</h3>
                    <p class="info-text">Encode or edit grades for enrolled students</p>

                    <div class="grade-legend">
                        <div class="grade-legend-item">
                            <div class="grade-legend-color grade-a"></div>
                            <span>A (90-100)</span>
                        </div>
                        <div class="grade-legend-item">
                            <div class="grade-legend-color grade-b"></div>
                            <span>B (80-89)</span>
                        </div>
                        <div class="grade-legend-item">
                            <div class="grade-legend-color grade-c"></div>
                            <span>C (70-79)</span>
                        </div>
                        <div class="grade-legend-item">
                            <div class="grade-legend-color grade-d"></div>
                            <span>D (60-69)</span>
                        </div>
                        <div class="grade-legend-item">
                            <div class="grade-legend-color grade-f"></div>
                            <span>F (Below 60)</span>
                        </div>
                        <div class="grade-legend-item">
                            <div class="grade-legend-color grade-inc"></div>
                            <span>INC (Incomplete)</span>
                        </div>
                    </div>

                    <div class="search-filter-container">
                        <div class="search-box">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                            <input type="text" placeholder="Search by student name, ID, or subject..."
                                id="gradesSearchInput">
                        </div>
                        <div class="filter-controls">
                            <select class="filter-select" id="gradeAcademicYearFilter">
                                <option value="">All Academic Years</option>
                                <!-- Options will be populated from database -->
                            </select>
                            <select class="filter-select" id="gradeSemesterFilter">
                                <option value="">All Semesters</option>
                                <!-- Options will be populated from database -->
                            </select>
                            <select class="filter-select" id="subjectFilter">
                                <option value="">All Subjects</option>
                                <!-- Options will be populated from database -->
                            </select>
                        </div>
                    </div>

                    <div class="student-info-card" id="selectedStudentCard" style="display: none;">
                        <div class="student-avatar">JS</div>
                        <div class="student-details">
                            <h3 class="student-name">John Smith</h3>
                            <p class="student-id">Student ID: S-2023-0001</p>
                            <p class="student-program">Bachelor of Science in Computer Science</p>
                        </div>
                        <div class="student-actions">
                            <button class="btn btn-outline" id="viewStudentHistoryBtn">View History</button>
                            <button class="btn btn-outline" id="clearStudentSelectionBtn">Clear Selection</button>
                        </div>
                    </div>

                    <div class="empty-state" id="gradesEmptyState">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                            stroke="#6B3A1D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        <p>No grade records found. Search for a student or subject to begin encoding grades.</p>
                    </div>

                    <table class="grades-table" id="gradesTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Student Name</th>
                                <th>Subject Code</th>
                                <th>Subject Name</th>
                                <th>Section</th>
                                <th>Midterm</th>
                                <th>Final</th>
                                <th>Final Grade</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Table rows will be populated from database -->
                        </tbody>
                    </table>

                    <div class="pagination" id="gradesPagination" style="display: none;">
                        <!-- Pagination will be dynamically generated -->
                    </div>

                    <div class="action-bar" style="margin-top: 20px;">
                        <div class="action-bar-left">
                            <button class="btn btn-primary" id="saveAllGradesBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 5px;">
                                    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                    <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                    <polyline points="7 3 7 8 15 8"></polyline>
                                </svg>
                                Save All Changes
                            </button>
                        </div>
                        <div class="action-bar-right">
                            <button class="btn btn-outline" id="exportGradesBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 5px;">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                Export Grades
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Enrollment Period Tab Content -->
                <div id="enrollment-period" class="tab-content">
                    <h3 class="tab-header">Enrollment Period Management</h3>
                    <p class="info-text">Configure enrollment periods for student self-enrollment</p>

                    <div class="enrollment-period-card">
                        <div class="enrollment-period-header">
                            <h4 class="enrollment-period-title">Current Academic Year</h4>
                            <div class="enrollment-period-status">
                                <span id="currentAcademicYearText">2024-2025</span>
                                <button class="btn btn-outline" id="editAcademicYearBtn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                    </svg>
                                    Edit
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="enrollment-period-card">
                        <div class="enrollment-period-header">
                            <h4 class="enrollment-period-title">First Semester Enrollment</h4>
                            <div class="enrollment-period-status">
                                <span class="badge badge-success" id="firstSemesterStatusBadge">Active</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="firstSemesterToggle" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="enrollment-period-details">
                            <div class="enrollment-period-detail">
                                <h4>Start Date</h4>
                                <p id="firstSemesterStartDate">June 1, 2024</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>End Date</h4>
                                <p id="firstSemesterEndDate">June 15, 2024</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>Eligible Students</h4>
                                <p id="firstSemesterEligibleCount">All Students</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>Status</h4>
                                <p id="firstSemesterStatusText">Open for enrollment</p>
                            </div>
                        </div>
                        <div style="text-align: right; margin-top: 10px;">
                            <button class="btn btn-outline" id="editFirstSemesterBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 5px;">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                                Configure
                            </button>
                        </div>
                    </div>

                    <div class="enrollment-period-card">
                        <div class="enrollment-period-header">
                            <h4 class="enrollment-period-title">Second Semester Enrollment</h4>
                            <div class="enrollment-period-status">
                                <span class="badge badge-warning" id="secondSemesterStatusBadge">Scheduled</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="secondSemesterToggle">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="enrollment-period-details">
                            <div class="enrollment-period-detail">
                                <h4>Start Date</h4>
                                <p id="secondSemesterStartDate">November 1, 2024</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>End Date</h4>
                                <p id="secondSemesterEndDate">November 15, 2024</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>Eligible Students</h4>
                                <p id="secondSemesterEligibleCount">All Students</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>Status</h4>
                                <p id="secondSemesterStatusText">Scheduled to open</p>
                            </div>
                        </div>
                        <div style="text-align: right; margin-top: 10px;">
                            <button class="btn btn-outline" id="editSecondSemesterBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 5px;">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                                Configure
                            </button>
                        </div>
                    </div>

                    <div class="enrollment-period-card">
                        <div class="enrollment-period-header">
                            <h4 class="enrollment-period-title">Summer Term Enrollment</h4>
                            <div class="enrollment-period-status">
                                <span class="badge badge-danger" id="summerTermStatusBadge">Inactive</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="summerTermToggle">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="enrollment-period-details">
                            <div class="enrollment-period-detail">
                                <h4>Start Date</h4>
                                <p id="summerTermStartDate">April 1, 2025</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>End Date</h4>
                                <p id="summerTermEndDate">April 15, 2025</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>Eligible Students</h4>
                                <p id="summerTermEligibleCount">All Students</p>
                            </div>
                            <div class="enrollment-period-detail">
                                <h4>Status</h4>
                                <p id="summerTermStatusText">Not yet open</p>
                            </div>
                        </div>
                        <div style="text-align: right; margin-top: 10px;">
                            <button class="btn btn-outline" id="editSummerTermBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 5px;">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                                Configure
                            </button>
                        </div>
                    </div>

                    <hr class="section-divider">

                    <h4 style="color: #6B3A1D; font-family: 'Cinzel', serif; margin-bottom: 15px;">Enrollment
                        Notifications
                    </h4>
                    <div class="form-group">
                        <label for="enrollmentStartNotification">Enrollment Start Notification</label>
                        <textarea class="form-control" id="enrollmentStartNotification" rows="3"
                            placeholder="Enter the notification message to be sent when enrollment period starts..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="enrollmentEndNotification">Enrollment End Reminder</label>
                        <textarea class="form-control" id="enrollmentEndNotification" rows="3"
                            placeholder="Enter the notification message to be sent before enrollment period ends..."></textarea>
                    </div>
                    <div style="text-align: right; margin-top: 15px;">
                        <button class="btn btn-primary" id="saveNotificationsBtn">Save Notification Settings</button>
                    </div>
                </div>

                <!-- Enroll Student Modal -->
                <div class="modal" id="enrollStudentModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Enroll Student</h3>
                            <button class="modal-close" id="closeEnrollStudentModal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="studentIdInput">Student ID</label>
                                <div style="display: flex; gap: 10px;">
                                    <input type="text" class="form-control" id="studentIdInput"
                                        placeholder="Enter student ID">
                                    <button class="btn btn-outline" id="searchStudentBtn">Search</button>
                                </div>
                            </div>
                            <div id="studentInfoContainer" style="display: none; margin-bottom: 20px;">
                                <div class="student-info-card">
                                    <div class="student-avatar" id="studentInitials">JS</div>
                                    <div class="student-details">
                                        <h3 class="student-name" id="studentNameDisplay">John Smith</h3>
                                        <p class="student-id" id="studentIdDisplay">Student ID: S-2023-0001</p>
                                        <p class="student-program" id="studentProgramDisplay">Bachelor of Science in
                                            Computer Science</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="academicYearInput">Academic Year</label>
                                        <select class="form-control" id="academicYearInput">
                                            <option value="">Select Academic Year</option>
                                            <!-- Options will be populated from database -->
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="semesterInput">Semester</label>
                                        <select class="form-control" id="semesterInput">
                                            <option value="">Select Semester</option>
                                            <!-- Options will be populated from database -->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="subjectInput">Subject</label>
                                <select class="form-control" id="subjectInput">
                                    <option value="">Select Subject</option>
                                    <!-- Options will be populated from database -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="sectionInput">Section</label>
                                <select class="form-control" id="sectionInput">
                                    <option value="">Select Section</option>
                                    <!-- Options will be populated from database -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="enrollmentNotes">Notes (Optional)</label>
                                <textarea class="form-control" id="enrollmentNotes" rows="2"
                                    placeholder="Add any additional notes about this enrollment"></textarea>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-outline" id="cancelEnrollStudentBtn">Cancel</button>
                            <button class="btn btn-primary" id="confirmEnrollStudentBtn">Enroll Student</button>
                        </div>
                    </div>
                </div>

                <!-- Edit Grade Modal -->
                <div class="modal" id="editGradeModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Edit Student Grade</h3>
                            <button class="modal-close" id="closeEditGradeModal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div id="gradeStudentInfoContainer" style="margin-bottom: 20px;">
                                <div class="student-info-card">
                                    <div class="student-avatar" id="gradeStudentInitials">JS</div>
                                    <div class="student-details">
                                        <h3 class="student-name" id="gradeStudentNameDisplay">John Smith</h3>
                                        <p class="student-id" id="gradeStudentIdDisplay">Student ID: S-2023-0001</p>
                                        <p class="student-program" id="gradeSubjectDisplay">COMP101: Introduction to
                                            Computer Science</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="midtermGradeInput">Midterm Grade</label>
                                        <input type="number" class="form-control" id="midtermGradeInput" min="0"
                                            max="100" placeholder="Enter grade (0-100)">
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="finalGradeInput">Final Grade</label>
                                        <input type="number" class="form-control" id="finalGradeInput" min="0" max="100"
                                            placeholder="Enter grade (0-100)">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="gradeLetterInput">Letter Grade</label>
                                <select class="form-control" id="gradeLetterInput">
                                    <option value="">Auto-calculate from numeric grades</option>
                                    <option value="A">A (90-100)</option>
                                    <option value="B">B (80-89)</option>
                                    <option value="C">C (70-79)</option>
                                    <option value="D">D (60-69)</option>
                                    <option value="F">F (Below 60)</option>
                                    <option value="INC">INC (Incomplete)</option>
                                    <option value="W">W (Withdrawn)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="gradeNotes">Notes (Optional)</label>
                                <textarea class="form-control" id="gradeNotes" rows="2"
                                    placeholder="Add any additional notes about this grade"></textarea>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-outline" id="cancelEditGradeBtn">Cancel</button>
                            <button class="btn btn-primary" id="confirmEditGradeBtn">Save Grade</button>
                        </div>
                    </div>
                </div>

                <!-- Configure Enrollment Period Modal -->
                <div class="modal" id="configureEnrollmentModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="configureEnrollmentTitle">Configure Enrollment Period</h3>
                            <button class="modal-close" id="closeConfigureEnrollmentModal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="enrollmentStartDateInput">Start Date</label>
                                        <input type="date" class="form-control" id="enrollmentStartDateInput">
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="enrollmentEndDateInput">End Date</label>
                                        <input type="date" class="form-control" id="enrollmentEndDateInput">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="eligibleStudentsInput">Eligible Students</label>
                                <select class="form-control" id="eligibleStudentsInput">
                                    <option value="all">All Students</option>
                                    <option value="continuing">Continuing Students Only</option>
                                    <option value="new">New Students Only</option>
                                    <option value="custom">Custom Selection</option>
                                </select>
                            </div>
                            <div class="form-group" id="customEligibilityContainer" style="display: none;">
                                <label for="customEligibilityInput">Custom Eligibility Criteria</label>
                                <textarea class="form-control" id="customEligibilityInput" rows="3"
                                    placeholder="Enter SQL-like conditions for eligibility (e.g., year_level > 2 AND gpa >= 2.0)"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="maxUnitsInput">Maximum Units Allowed</label>
                                <input type="number" class="form-control" id="maxUnitsInput" min="1" max="30"
                                    value="21">
                            </div>
                            <div class="form-group">
                                <label for="enrollmentStatusInput">Initial Status</label>
                                <select class="form-control" id="enrollmentStatusInput">
                                    <option value="active">Active (Open Immediately)</option>
                                    <option value="scheduled">Scheduled (Will Open on Start Date)</option>
                                    <option value="inactive">Inactive (Manually Activate Later)</option>
                                </select>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-outline" id="cancelConfigureEnrollmentBtn">Cancel</button>
                            <button class="btn btn-primary" id="confirmConfigureEnrollmentBtn">Save
                                Configuration</button>
                        </div>
                    </div>
                </div>

                <!-- Bulk Enrollment Modal -->
                <div class="modal" id="bulkEnrollmentModal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Bulk Student Enrollment</h3>
                            <button class="modal-close" id="closeBulkEnrollmentModal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="bulkAcademicYearInput">Academic Year</label>
                                        <select class="form-control" id="bulkAcademicYearInput">
                                            <option value="">Select Academic Year</option>
                                            <!-- Options will be populated from database -->
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="bulkSemesterInput">Semester</label>
                                        <select class="form-control" id="bulkSemesterInput">
                                            <option value="">Select Semester</option>
                                            <!-- Options will be populated from database -->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bulkSubjectInput">Subject</label>
                                <select class="form-control" id="bulkSubjectInput">
                                    <option value="">Select Subject</option>
                                    <!-- Options will be populated from database -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="bulkSectionInput">Section</label>
                                <select class="form-control" id="bulkSectionInput">
                                    <option value="">Select Section</option>
                                    <!-- Options will be populated from database -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="studentSelectionMethod">Student Selection Method</label>
                                <select class="form-control" id="studentSelectionMethod">
                                    <option value="program">By Program</option>
                                    <option value="year">By Year Level</option>
                                    <option value="list">From Student List</option>
                                    <option value="csv">Upload CSV File</option>
                                </select>
                            </div>
                            <div id="programSelectionContainer" class="selection-container">
                                <div class="form-group">
                                    <label for="programSelectInput">Select Program</label>
                                    <select class="form-control" id="programSelectInput">
                                        <option value="">Select Program</option>
                                        <!-- Options will be populated from database -->
                                    </select>
                                </div>
                            </div>
                            <div id="yearSelectionContainer" class="selection-container" style="display: none;">
                                <div class="form-group">
                                    <label for="yearLevelInput">Select Year Level</label>
                                    <select class="form-control" id="yearLevelInput">
                                        <option value="">Select Year Level</option>
                                        <option value="1">First Year</option>
                                        <option value="2">Second Year</option>
                                        <option value="3">Third Year</option>
                                        <option value="4">Fourth Year</option>
                                        <option value="5">Fifth Year</option>
                                    </select>
                                </div>
                            </div>
                            <div id="listSelectionContainer" class="selection-container" style="display: none;">
                                <div class="form-group">
                                    <label for="studentListInput">Select Students</label>
                                    <select class="form-control" id="studentListInput" multiple size="5">
                                        <!-- Options will be populated from database -->
                                    </select>
                                    <small class="form-text">Hold Ctrl/Cmd to select multiple students</small>
                                </div>
                            </div>
                            <div id="csvUploadContainer" class="selection-container" style="display: none;">
                                <div class="form-group">
                                    <label for="csvFileInput">Upload Student List (CSV)</label>
                                    <input type="file" class="form-control" id="csvFileInput" accept=".csv">
                                    <small class="form-text">CSV should have a column with student IDs</small>
                                </div>
                                <div class="form-group">
                                    <label for="csvColumnInput">Student ID Column Name</label>
                                    <input type="text" class="form-control" id="csvColumnInput"
                                        placeholder="e.g., student_id">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bulkEnrollmentNotes">Notes (Optional)</label>
                                <textarea class="form-control" id="bulkEnrollmentNotes" rows="2"
                                    placeholder="Add any additional notes about this bulk enrollment"></textarea>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-outline" id="cancelBulkEnrollmentBtn">Cancel</button>
                            <button class="btn btn-primary" id="confirmBulkEnrollmentBtn">Enroll Students</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script th:src="@{/js/notifications.js}"></script>
    <script th:src="@{/js/sidebar-nav.js}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Tab Navigation
            const tabLinks = document.querySelectorAll('.tab-link');
            const tabContents = document.querySelectorAll('.tab-content');

            tabLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const tabId = this.getAttribute('data-tab');

                    // Remove active class from all tabs and contents
                    tabLinks.forEach(link => link.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));

                    // Add active class to current tab and content
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Modal Functions
            function openModal(modalId) {
                document.getElementById(modalId).classList.add('active');
            }

            function closeModal(modalId) {
                document.getElementById(modalId).classList.remove('active');
            }

            // Enroll Student Modal
            document.getElementById('enrollStudentBtn').addEventListener('click', function () {
                openModal('enrollStudentModal');
            });

            document.getElementById('closeEnrollStudentModal').addEventListener('click', function () {
                closeModal('enrollStudentModal');
            });

            document.getElementById('cancelEnrollStudentBtn').addEventListener('click', function () {
                closeModal('enrollStudentModal');
            });

            // Edit Grade Modal
            document.getElementById('closeEditGradeModal').addEventListener('click', function () {
                closeModal('editGradeModal');
            });

            document.getElementById('cancelEditGradeBtn').addEventListener('click', function () {
                closeModal('editGradeModal');
            });

            // Configure Enrollment Period Modal
            document.getElementById('editFirstSemesterBtn').addEventListener('click', function () {
                document.getElementById('configureEnrollmentTitle').textContent = 'Configure First Semester Enrollment';
                openModal('configureEnrollmentModal');
            });

            document.getElementById('editSecondSemesterBtn').addEventListener('click', function () {
                document.getElementById('configureEnrollmentTitle').textContent = 'Configure Second Semester Enrollment';
                openModal('configureEnrollmentModal');
            });

            document.getElementById('editSummerTermBtn').addEventListener('click', function () {
                document.getElementById('configureEnrollmentTitle').textContent = 'Configure Summer Term Enrollment';
                openModal('configureEnrollmentModal');
            });

            document.getElementById('closeConfigureEnrollmentModal').addEventListener('click', function () {
                closeModal('configureEnrollmentModal');
            });

            document.getElementById('cancelConfigureEnrollmentBtn').addEventListener('click', function () {
                closeModal('configureEnrollmentModal');
            });

            // Bulk Enrollment Modal
            document.getElementById('bulkEnrollBtn').addEventListener('click', function () {
                openModal('bulkEnrollmentModal');
            });

            document.getElementById('closeBulkEnrollmentModal').addEventListener('click', function () {
                closeModal('bulkEnrollmentModal');
            });

            document.getElementById('cancelBulkEnrollmentBtn').addEventListener('click', function () {
                closeModal('bulkEnrollmentModal');
            });

            // Student Selection Method Change
            document.getElementById('studentSelectionMethod').addEventListener('change', function () {
                const containers = document.querySelectorAll('.selection-container');
                containers.forEach(container => container.style.display = 'none');

                const selectedMethod = this.value;
                if (selectedMethod === 'program') {
                    document.getElementById('programSelectionContainer').style.display = 'block';
                } else if (selectedMethod === 'year') {
                    document.getElementById('yearSelectionContainer').style.display = 'block';
                } else if (selectedMethod === 'list') {
                    document.getElementById('listSelectionContainer').style.display = 'block';
                } else if (selectedMethod === 'csv') {
                    document.getElementById('csvUploadContainer').style.display = 'block';
                }
            });

            // Custom Eligibility Toggle
            document.getElementById('eligibleStudentsInput').addEventListener('change', function () {
                if (this.value === 'custom') {
                    document.getElementById('customEligibilityContainer').style.display = 'block';
                } else {
                    document.getElementById('customEligibilityContainer').style.display = 'none';
                }
            });

            // Search Student Button
            document.getElementById('searchStudentBtn').addEventListener('click', function () {
                const studentId = document.getElementById('studentIdInput').value;
                if (studentId.trim() !== '') {
                    // In a real implementation, this would make an AJAX call to fetch student data
                    // For now, we'll just show the student info container
                    document.getElementById('studentInfoContainer').style.display = 'block';

                    // In a real implementation, these values would be populated from the server response
                    // document.getElementById('studentNameDisplay').textContent = response.name;
                    // document.getElementById('studentIdDisplay').textContent = 'Student ID: ' + response.id;
                    // document.getElementById('studentProgramDisplay').textContent = response.program;
                    // document.getElementById('studentInitials').textContent = getInitials(response.name);
                }
            });

            // Enrollment Period Toggles
            document.getElementById('firstSemesterToggle').addEventListener('change', function () {
                const statusBadge = document.getElementById('firstSemesterStatusBadge');
                const statusText = document.getElementById('firstSemesterStatusText');

                if (this.checked) {
                    statusBadge.textContent = 'Active';
                    statusBadge.className = 'badge badge-success';
                    statusText.textContent = 'Open for enrollment';
                } else {
                    statusBadge.textContent = 'Inactive';
                    statusBadge.className = 'badge badge-danger';
                    statusText.textContent = 'Closed for enrollment';
                }
            });

            document.getElementById('secondSemesterToggle').addEventListener('change', function () {
                const statusBadge = document.getElementById('secondSemesterStatusBadge');
                const statusText = document.getElementById('secondSemesterStatusText');

                if (this.checked) {
                    statusBadge.textContent = 'Active';
                    statusBadge.className = 'badge badge-success';
                    statusText.textContent = 'Open for enrollment';
                } else {
                    statusBadge.textContent = 'Scheduled';
                    statusBadge.className = 'badge badge-warning';
                    statusText.textContent = 'Scheduled to open';
                }
            });

            document.getElementById('summerTermToggle').addEventListener('change', function () {
                const statusBadge = document.getElementById('summerTermStatusBadge');
                const statusText = document.getElementById('summerTermStatusText');

                if (this.checked) {
                    statusBadge.textContent = 'Active';
                    statusBadge.className = 'badge badge-success';
                    statusText.textContent = 'Open for enrollment';
                } else {
                    statusBadge.textContent = 'Inactive';
                    statusBadge.className = 'badge badge-danger';
                    statusText.textContent = 'Not yet open';
                }
            });

            // Helper function to get initials from name
            function getInitials(name) {
                return name.split(' ').map(part => part.charAt(0)).join('');
            }

            // In a real implementation, these functions would be used to load data from the server
            function loadEnrollmentData() {
                // This would make an AJAX call to fetch enrollment data
                // For now, we'll just show the empty state
                document.getElementById('enrollmentEmptyState').style.display = 'block';
                document.getElementById('enrollmentTable').style.display = 'none';
                document.getElementById('enrollmentPagination').style.display = 'none';
            }

            function loadGradesData() {
                // This would make an AJAX call to fetch grades data
                // For now, we'll just show the empty state
                document.getElementById('gradesEmptyState').style.display = 'block';
                document.getElementById('gradesTable').style.display = 'none';
                document.getElementById('gradesPagination').style.display = 'none';
            }

            // Initialize the page
            loadEnrollmentData();
            loadGradesData();
        });
    </script>
    <script>
    /**
     * Example: How to use
     * - Call loadGradesForStudent(studentId) when a student is selected.
     * - Call saveAllGrades(studentId) when the admin clicks "Save All Changes".
     */

    // Load grades for a student and populate the table
    async function loadGradesForStudent(studentId) {
        const response = await fetch(`/api/grades/student/${studentId}`);
        const grades = response.ok ? await response.json() : [];
        const tbody = document.querySelector('#gradesTable tbody');
        tbody.innerHTML = '';

        if (grades.length === 0) {
            document.getElementById('gradesEmptyState').style.display = 'block';
            document.getElementById('gradesTable').style.display = 'none';
            return;
        }

        document.getElementById('gradesEmptyState').style.display = 'none';
        document.getElementById('gradesTable').style.display = '';
        grades.forEach((grade, idx) => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${grade.student.studentId || ''}</td>
                <td>${grade.student.firstName} ${grade.student.lastName}</td>
                <td><input type="text" class="course-code-input" value="${grade.courseCode || ''}" data-grade-id="${grade.id}"></td>
                <td><input type="text" class="course-title-input" value="${grade.courseTitle || ''}" data-grade-id="${grade.id}"></td>
                <td><input type="number" class="units-input" value="${grade.units || 0}" data-grade-id="${grade.id}"></td>
                <td><input type="number" class="grade-value-input" value="${grade.gradeValue || 0}" step="0.01" data-grade-id="${grade.id}"></td>
                <td>
                    <button class="btn btn-primary save-grade-btn" data-grade-id="${grade.id}">Save</button>
                    <button class="btn btn-outline delete-grade-btn" data-grade-id="${grade.id}">Delete</button>
                </td>
            `;
            tbody.appendChild(tr);
        });

        // Add event listeners for save and delete buttons
        document.querySelectorAll('.save-grade-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const gradeId = this.getAttribute('data-grade-id');
                saveGrade(gradeId, studentId);
            });
        });
        document.querySelectorAll('.delete-grade-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const gradeId = this.getAttribute('data-grade-id');
                deleteGrade(gradeId, studentId);
            });
        });
    }

    // Save a single grade (update)
    async function saveGrade(gradeId, studentId) {
        const row = document.querySelector(`input[data-grade-id="${gradeId}"]`).closest('tr');
        const gradeData = {
            courseCode: row.querySelector('.course-code-input').value,
            courseTitle: row.querySelector('.course-title-input').value,
            units: parseInt(row.querySelector('.units-input').value),
            gradeValue: parseFloat(row.querySelector('.grade-value-input').value)
        };
        const response = await fetch(`/api/grades/${gradeId}`, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(gradeData)
        });
        if (response.ok) {
            alert('Grade updated!');
            loadGradesForStudent(studentId);
        } else {
            alert('Failed to update grade.');
        }
    }

    // Delete a grade
    async function deleteGrade(gradeId, studentId) {
        if (!confirm('Are you sure you want to delete this grade?')) return;
        const response = await fetch(`/api/grades/${gradeId}`, { method: 'DELETE' });
        if (response.ok) {
            alert('Grade deleted!');
            loadGradesForStudent(studentId);
        } else {
            alert('Failed to delete grade.');
        }
    }

    // Save all grades (for new grades, you can add a row with empty data-grade-id and use POST)
    async function saveAllGrades(studentId) {
        const tbody = document.querySelector('#gradesTable tbody');
        const rows = tbody.querySelectorAll('tr');
        for (const row of rows) {
            const gradeId = row.querySelector('.course-code-input').getAttribute('data-grade-id');
            const gradeData = {
                courseCode: row.querySelector('.course-code-input').value,
                courseTitle: row.querySelector('.course-title-input').value,
                units: parseInt(row.querySelector('.units-input').value),
                gradeValue: parseFloat(row.querySelector('.grade-value-input').value)
            };
            if (!gradeId) {
                // New grade, use POST
                await fetch(`/api/grades/student/${studentId}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(gradeData)
                });
            } else {
                // Existing grade, use PUT
                await fetch(`/api/grades/${gradeId}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(gradeData)
                });
            }
        }
        alert('All grades saved!');
        loadGradesForStudent(studentId);
    }

    // Example: Call this when a student is selected
    // loadGradesForStudent(selectedStudentId);

    // Example: Hook up to your "Save All Changes" button
    // document.getElementById('saveAllGradesBtn').addEventListener('click', function() {
    //     saveAllGrades(selectedStudentId);
    // });
    </script>
</body>

</html>